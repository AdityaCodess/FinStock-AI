<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinStock AI - Dashboard</title>
    <link rel="stylesheet" href="frontend/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script
        src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
</head>

<body>
    <header>
        <h1>FinStock AI</h1>
        <div class="header-controls">
            <div class="date-range-picker">
                <label for="start-date">From:</label>
                <input type="date" id="start-date">
                <label for="end-date">To:</label>
                <input type="date" id="end-date">
            </div>
            <div class="search-container">
                <input type="text" id="stock-search" placeholder="Search (e.g., RELIANCE) & Press Enter">
                <div id="search-results" class="search-results-dropdown"></div>
            </div>
        </div>
    </header>

    <main class="dashboard-grid">
        <section class="widget" id="widget-stock-info">
            <h2 id="stock-name-header">Select a Stock to Begin</h2>
            <div class="stock-info-details">
                <span id="stock-symbol-header"></span>
                <span id="stock-price-header"></span>
                <span id="stock-change-header"></span>
            </div>
            <p id="stock-sector-industry"></p>
        </section>

        <section class="widget" id="widget-statistics">
            <h3>Statistical DNA</h3>
            <div class="stats-grid">
                <div class="stat-item">
                    <label>Data From</label>
                    <span id="stat-start-date">-</span>
                </div>
                <div class="stat-item">
                    <label>Data Until</label>
                    <span id="stat-end-date">-</span>
                </div>
                <div class="stat-item">
                    <label>Mean Price</label>
                    <span id="stat-mean">-</span>
                </div>
                <div class="stat-item">
                    <label>Median Price</label>
                    <span id="stat-median">-</span>
                </div>
                <div class="stat-item">
                    <label>Std. Dev Price</label>
                    <span id="stat-std_deviation">-</span>
                </div>
                <div class="stat-item">
                    <label>Variance Price</label>
                    <span id="stat-variance">-</span>
                </div>
                <div class="stat-item">
                    <label>Prob (Next Day Up)</label>
                    <span id="stat-probability_next_day_up">-</span>
                </div>
                <div class="stat-item">
                    <label>Prob (Next Day Down)</label>
                    <span id="stat-probability_next_day_down">-</span>
                </div>
                <div class="stat-item">
                    <label>Avg Daily Return %</label>
                    <span id="stat-mean_daily_return_percent">-</span>
                </div>
                <div class="stat-item">
                    <label>Volatility (Std Dev Return %)</label>
                    <span id="stat-std_dev_daily_return_percent">-</span>
                </div>
                <div class="stat-item">
                    <label>P(Up | Up Yesterday) %</label>
                    <span id="stat-cond_prob_up_given_up">-</span>
                </div>
                <div class="stat-item">
                    <label>P(Down | Down Yesterday) %</label>
                    <span id="stat-cond_prob_down_given_down">-</span>
                </div>
                <div class="stat-item">
                    <label>P(2 Day Up Streak) %</label>
                    <span id="stat-prob_2_days_up_streak">-</span>
                </div>
                <div class="stat-item">
                    <label>P(2 Day Down Streak) %</label>
                    <span id="stat-prob_2_days_down_streak">-</span>
                </div>
            </div>
        </section>

        <section class="widget histogram-widget" id="widget-return-histogram">
            <h3>Daily Return Distribution (%)</h3>
            <canvas id="returnHistogramChart"></canvas>
            <div class="chart-stats">
                <div class="stat-item">
                    <label>Skewness</label>
                    <span id="stat-skewness">-</span>
                </div>
                <div class="stat-item">
                    <label>Kurtosis</label>
                    <span id="stat-kurtosis">-</span>
                </div>
            </div>
        </section>

        <section class="widget" id="widget-ai-predictions">
            <h3>AI Predictions <span class="note">(Based on 5Y/30D data)</span></h3>
            <div class="prediction-tabs">
                <button class="tab-btn active" data-tab="short-term">Short-Term</button>
                <button class="tab-btn" data-tab="long-term">Long-Term</button>
                <button class="tab-btn" data-tab="intraday">Intraday</button>
            </div>

            <div id="tab-short-term" class="tab-content active">
                <h4>7-Day Forecast</h4>
                <p class="prediction-value" id="pred-short-term-percent">- %</p>
                <p class="recommendation" id="pred-short-term-rec">--</p>
            </div>

            <div id="tab-long-term" class="tab-content">
                <h4>1-Year Forecast</h4>
                <p class="prediction-value" id="pred-long-term-value">â‚¹ --</p>
                <p class="recommendation" id="pred-long-term-rec">--</p>
            </div>

            <div id="tab-intraday" class="tab-content">
                <h4>Similarity Engine (Placeholder)</h4>
                <p id="pred-intraday-match">--</p>
                <p class="prediction-value" id="pred-intraday-pred">--</p>
            </div>
        </section>

        <section class="widget" id="widget-news">
            <h3>News & Sentiment</h3>
            <div class="prediction-tabs">
                <button class="tab-btn active" data-tab="stock-news">Stock News</button>
                <button class="tab-btn" data-tab="market-news">Market News</button>
            </div>
            <div id="tab-stock-news" class="tab-content active">
                <p class="sentiment" id="news-stock-sentiment">Sentiment: <span class="text-neutral">--</span></p>
                <p class="impact" id="news-stock-impact"></p>
                <div id="stock-articles" class="articles-container"></div>
            </div>
            <div id="tab-market-news" class="tab-content">
                <p class="sentiment" id="news-market-sentiment">Sentiment: <span class="text-neutral">--</span></p>
                <p class="impact" id="news-market-impact"></p>
                <div id="market-headlines" class="articles-container"></div>
            </div>
        </section>
        <section class="widget price-chart-widget" id="widget-price-chart">
            <h3>Historical Price Trend</h3>
            <canvas id="priceHistoryChart"></canvas>
        </section>
    </main>

    <div id="loader-overlay" class="hidden">
        <div class="loader"></div>
    </div>

    <script src="frontend/js/charts.js"></script>
    <script src="frontend/js/main.js"></script>
    <script src="frontend/js/ui.js"></script>
</body>

</html>